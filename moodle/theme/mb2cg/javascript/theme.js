jQuery(document).ready(function(e){e(".categorypicker").length>0&&e(".course-layout-switcher").length>0&&e(".categorypicker").append(e(".course-layout-switcher")),e("#frontpage-available-course-list").length>0&&e(".course-layout-switcher").length>0&&e("#frontpage-available-course-list").prepend(e(".course-layout-switcher")),e("#frontpage-course-list").length>0&&e(".course-layout-switcher").length>0&&e("#frontpage-course-list").prepend(e(".course-layout-switcher")),function(){var t=e(".course-layout-switcher"),a=t.find(">a"),s={expires:3,path:"/"};if(!e(".course-layout-switcher").length)return;"grid"===Cookies.get("courses_layout")?(e("body").addClass("course-layout-grid"),a.removeClass("active"),t.find(".grid-layout").addClass("active")):"list"===Cookies.get("courses_layout")&&(e("body").removeClass("course-layout-grid"),a.removeClass("active"),t.find(".list-layout").addClass("active"));a.click(function(t){t.preventDefault(),e(this).hasClass("grid-layout")&&!e("body").hasClass("course-layout-grid")?(e("body").addClass("course-layout-grid"),a.removeClass("active"),e(this).addClass("active"),Cookies.remove("courses_layout"),Cookies.set("courses_layout","grid",s)):e(this).hasClass("list-layout")&&e("body").hasClass("course-layout-grid")&&(e("body").removeClass("course-layout-grid"),a.removeClass("active"),e(this).addClass("active"),Cookies.remove("courses_layout"),Cookies.set("courses_layout","list",s))})}();var t="layout_sidebars",a={expires:3,path:"/"},s=e(".theme-hide-sidebar"),o=s.data("showtext"),l=s.data("hidetext");"hidden"===Cookies.get(t)?(e("body").addClass("hide-sidebars"),s.text(o)):"shown"===Cookies.get(t)&&(e("body").removeClass("hide-sidebars"),s.text(l)),s.click(function(s){e("body").hasClass("editing")||(e("body").hasClass("hide-sidebars")?(e("body").removeClass("hide-sidebars"),e(this).text(l),Cookies.remove(t),Cookies.set(t,"shown",a)):(e("body").addClass("hide-sidebars"),e(this).text(o),Cookies.remove(t),Cookies.set(t,"hidden",a))),s.preventDefault()}),e("body").hasClass("pagelayout-login")&&e("#login").append(e(".potentialidps")),e(".potentialidp a").each(function(){var t=e(this).attr("title");e(this).attr("class",""),e(this).addClass("btn btn-"+t.toLowerCase())}),e(".theme-lightbox").each(function(){e(this).nivoLightbox()}),e(".search-item").click(function(t){t.preventDefault(),e(".theme-searchform").fadeIn(150)}),e(".search-close").click(function(t){t.preventDefault(),e(".theme-searchform").fadeOut(150)}),e(".theme-slider,.mb2-pb-content-list.owl-carousel").each(function(){slider=e(this),function(t){isItems=t.data("items"),isMargin=t.data("margin"),isLoop=0!=t.data("loop"),isNav=0!=t.data("nav"),isDots=0!=t.data("dots"),isAutoplay=0!=t.data("autoplay"),isPauseTime=t.data("pausetime"),isAnimTime=t.data("animtime");var a=isItems>2?2:isItems,s=isItems>3?3:isItems,o=isItems>5?5:isItems;isRes={0:{items:1},600:{items:a},780:{items:s},1000:{items:o}};var i=e("body").hasClass("dir-rtl"),l=!1,n=['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>'];i&&(l=!0,n=['<i class="fa fa-angle-right"></i>','<i class="fa fa-angle-left"></i>']);(function e(){if("function"!=typeof t.owlCarousel)return setTimeout(e,100),!1;return!0})()&&t.owlCarousel({items:isItems,margin:isMargin,loop:isLoop,nav:isNav,rtl:l,dots:isDots,autoplay:isAutoplay,responsive:isRes,autoplayHoverPause:!0,autoplayTimeout:isPauseTime,smartSpeed:isAnimTime,navText:n})}(slider)});var n=e(".theme-scrolltt"),r=n.data("scrollspeed");function d(){e(".theme-table-wrap").each(function(){e(this).find(">table").width()>e(this).width()?e(this).addClass("wider"):e(this).removeClass("wider")})}e(window).on("scroll",function(){e(this).scrollTop()>500?n.addClass("active"):n.removeClass("active")}),n.click(function(t){t.preventDefault(),e("html, body").stop().animate({scrollTop:0},r)}),e("body").hasClass("path-admin-setting")&&e(".mb2tmpl-acc-title").each(function(){e(this).click(function(t){e(this).toggleClass("active"),e(this).parent().find("> div").slideToggle(150)})}),e("table").wrap('<div class="theme-table-wrap"></div>'),e(".generaltable, .forumheaderlist, table.userenrolment").addClass("table table-striped"),e("table.collection").addClass("table table-bordered"),e("table.preference-table").addClass("table table-bordered"),e("table.rolecap").addClass("table table-bordered"),e("#categoryquestions").addClass("table table-striped"),d(),e(window).on("resize",function(){d()}),e(".embed-video-bg").each(function(){var t=e(this);t.parent().find(">i").on("click",function(a){t.parent().find("iframe").attr("src",t.data("videourl")),e(this).fadeOut(350),t.fadeOut(350),a.preventDefault()})}),e(".alert-error").addClass("alert-danger"),e(".box.notifyproblem").addClass("alert"),e(".box.notifyproblem").addClass("alert-danger"),e(".box.notifyproblem").removeClass("notifyproblem"),e(".nav-tabs .nav-link").each(function(){e(this).hasClass("active")&&e(this).parent().addClass("active")}),e(".block-region").each(function(){var t='<span class="region-name">'+e(this).data("blockregion")+"</span>";e("body").hasClass("editing")&&e(this).append(t)}),e(".theme-ddmenu").each(function(){var t=e(this),a=t.data("animtype"),s=t.data("animspeed"),o=t.find(".mobile-arrow");function i(e){(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<=768?(e.removeClass("sf-js-enabled"),e.removeClass("desk-menu"),e.addClass("mobile-menu")):(e.addClass("sf-js-enabled"),e.removeClass("mobile-menu"),e.addClass("desk-menu"),e.find(".mobile-arrow").removeClass("active"),e.find(".mobile-arrow").parent().siblings("ul").hide())}(function e(){return"function"==typeof t.superfish||(setTimeout(e,100),!1)})()&&t.superfish({popUpSelector:"ul",hoverClass:"mb2ctm-hover",animation:2==a?{height:"show"}:{opacity:"show"},speed:s,speedOut:"fast",cssArrows:!1}),i(t),e(window).on("resize",function(){i(t)}),o.click(function(t){t.preventDefault(),e(this).parent().siblings("ul").slideToggle(250),e(this).toggleClass("active")})}),e(document).on("click",".show-menu",function(t){t.preventDefault(),e(this).parent().parent().find(".theme-ddmenu").slideToggle(250)});var m=e(".theme-loginform").find(".usertext"),c=e(".theme-loginform").find(".welcome_userpicture").parent(),h=e(".theme-loginform-form"),u=h.find(".usermenu");h.append(u),c.append(m),e(".login-open").click(function(t){var a;"#"===e(this).attr("href")&&(t.preventDefault(),e(this).hasClass("opened")?(a=e(this),e(".theme-loginform-inner").fadeOut(150),a.removeClass("opened")):function(t){t.addClass("opened"),e(".theme-loginform-inner").fadeIn(150)}(e(this)))});var f={expires:3,path:"/"};function b(){var t=e(".top-menu"),a=t.find("> li"),s=e(".mobile-nav .main-menu"),o=s.find(">.movedfromtop");(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<=768?(a.addClass("movedfromtop"),s.prepend(a)):(t.append(o),a.removeClass("movedfromtop"))}"fs1"===Cookies.get("font_size")?e("html").addClass("theme-fs1"):"fs2"===Cookies.get("font_size")?e("html").addClass("theme-fs2"):"fs3"===Cookies.get("font_size")&&e("html").addClass("theme-fs3"),e(".theme-fontsizer a").each(function(){var t=e(this),a=t.data("size");t.click(function(t){e("html").removeClass("theme-fs1"),e("html").removeClass("theme-fs2"),e("html").removeClass("theme-fs3"),e("html").addClass("theme-fs"+a),Cookies.remove("font_size"),Cookies.set("font_size","fs"+a,f),t.preventDefault()})}),b(),e(window).on("resize",function(){b()}),setTimeout(function(){v()},10);var p=0;function v(){var t=e(window),a=e(".sticky-nav-element-offset");if(0!=a.length&&e("body").hasClass("sticky-nav")){var s=e("#main-navigation"),o=(s.parent(),a.offset().top),i=s.outerHeight(!0);t.scrollTop()>o?(s.addClass("sticky-nav-element"),a.css({height:i})):(s.removeClass("sticky-nav-element"),a.css({height:0}))}}e(window).scroll(function(){st=e(this).scrollTop(),st<p?(e("body").removeClass("scroll-down"),e("body").addClass("scroll-up")):(e("body").removeClass("scroll-up"),e("body").addClass("scroll-down")),p=st,v()}),e("input.mb2color").each(function(){e(this).spectrum({showInput:!0,showButtons:!1,preferredFormat:"rgb",allowEmpty:!0,color:"",showAlpha:!0})});var k=e(".theme-iconnav").height();function g(){e("#page-outer").css({"min-height":e(window).height()})}e(".theme-iconnav").css({"margin-top":Math.ceil(k/2*-1)}),e(".theme-iconnav li").each(function(){var t=e(this).find(".link-replace"),a=e(this).find("span.text"),s=e("body").hasClass("dir-rtl");t.hover(function(){s?a.stop().animate({left:"100%"},300):a.stop().animate({right:"100%"},300)},function(){s?a.stop().animate({left:-500},150):a.stop().animate({right:-500},150)})}),e(".toggle-open").each(function(){var t=e(this).data("width"),a=e(this).parent(),s=e("body").hasClass("dir-rtl");e(this).click(function(e){e.preventDefault(),a.hasClass("closed")?(s?a.stop().animate({left:0},250):a.stop().animate({right:0},250),a.removeClass("closed"),a.addClass("opened")):(s?a.stop().animate({left:-t},250):a.stop().animate({right:-t},250),a.removeClass("opened"),a.addClass("closed"))})}),g(),e(window).on("resize",function(){g()}),e(".sectionname").each(function(){var t=e(this).find(">span>a").text();e("body").hasClass("editing")||" "!==t||e(this).hide()}),e('label[for="jump-to-activity"]').closest(".m-t-2").addClass("activity-nav"),e("#theme-bookmarks-form").submit(function(t){var a=e(this),s=a.find("#mb2bkcreateurl").val();e.ajax({type:"GET",url:s,data:a.serialize(),beforeSend:function(){e("#theme-bookmarks-modal").find(".loading-bg").fadeIn(250),e("#theme-bookmarks-modal").find(".theme-bookmarks-save").attr("disabled","disabled")},error:function(t,a,s){setTimeout(function(){e("#theme-bookmarks-modal").find(".loading-bg").fadeOut(250),e("#theme-bookmarks-modal").find(".theme-bookmarks-save").removeAttr("disabled"),alert(t.responseText)},800)},success:function(t){if(e.isArray(t)){var a=function(t){var a="",s=[];for(i=0;i<t.length;i++){var o=t[i].split(";"),l=e("#theme-bookmarks-form").data("rooturl"),n=e("#theme-bookmarks-form").data("pageurl"),r=e("#theme-bookmarks-form").data("pagetitle"),d=e("#theme-bookmarks-form").data("bookmarkthispage"),m=e("#theme-bookmarks-form").data("unbookmarkthispage");o[0]&&(a+='<li data-url="'+o[0]+'">',a+='<a class="bookmark-link" href="'+l+o[0]+'">'+o[1]+"</a>",a+='<span class="theme-bookmarks-action">',a+='<a href="#" class="theme-bookmarks-form bookmark-edit" data-url="'+o[0]+'" data-mb2bktitle="'+o[1]+'" data-toggle="modal" data-target="#theme-bookmarks-modal"><i class="fa fa-pencil"></i></a>',a+='<a href="#" class="theme-bookmarks-form bookmark-delete" data-url="'+o[0]+'" data-mb2bktitle="'+o[1]+'"><i class="fa fa-times"></i></a>',a+="</span>",a+="</li>",s[i]=o[0])}var c=e.inArray(n,s),h="",u=' data-toggle="modal" data-target="#theme-bookmarks-modal"',f=d;c>-1&&(h=" bookmark-delete",f=m,u="");return a+='<li class="theme-bookmarks-add">',a+='<a href="#" class="theme-bookmarks-form'+h+'" data-url="'+n+'" data-mb2bktitle="'+r+'"'+u+">",a+=f,a+="</a>",a+="</li>"}(t);e("ul.theme-bookmarks").html(a)}else alert(t);setTimeout(function(){e("#theme-bookmarks-modal").find(".loading-bg").fadeOut(250),e("#theme-bookmarks-modal").find(".theme-bookmarks-save").removeAttr("disabled")},800)}}),t.preventDefault()}),e(document).on("click",".theme-bookmarks-save",function(t){e("#theme-bookmarks-form").submit(),t.preventDefault()}),e(document).on("click",".theme-bookmarks-form",function(t){e("#mb2bkurl").val(e(this).data("url")),e("#mb2bktitle").val(e(this).data("mb2bktitle"));var a=e('li[data-url="'+e(this).data("url")+'"]');e(this).hasClass("bookmark-delete")?(e("#bkupdate").val(0),e("#bkdelete").val(1),e("#theme-bookmarks-form").submit()):e(this).hasClass("bookmark-edit")?(e("#bkdelete").val(0),e("#bkupdate").val(1)):a.length>0?(e("#bkdelete").val(0),e("#bkupdate").val(1),e("#mb2bktitle").val(a.find(">a").html())):(e("#bkdelete").val(0),e("#bkupdate").val(0)),t.preventDefault()}),e("form#guestlogin").parent().addClass("guestlogin-form")}),function(e){e(window).on("load",function(){var t=e(".loading-scr");setTimeout(function(){t.fadeOut(150)},t.data("hideafter"))})}(jQuery);
